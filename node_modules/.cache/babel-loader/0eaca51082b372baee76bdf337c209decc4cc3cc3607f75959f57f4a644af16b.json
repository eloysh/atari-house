{"ast":null,"code":"import React,{useState}from'react';import Slider from\"react-slick\";import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import'./ConstructionDetailsModal.css';import Config from'./config.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ConstructionDetailsModal=_ref=>{let{property,onClose}=_ref;const[formData,setFormData]=useState({name:'',phoneNumber:''});const[showForm,setShowForm]=useState(true);// State to manage form visibility\nconsole.log('CMS URL:',Config.CMS_URL);console.log('Admin email:',Config.ADMIN_EMAIL);console.log('Admin password:',Config.ADMIN_PASSWORD);console.log('Admin login:',Config.ADMIN_LOGIN);const handleInputChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const handleSubmit=e=>{e.preventDefault();console.log('Form submitted:',formData);setShowForm(false);// Hide the form after submission\n// Call function to send WhatsApp message\nhandleSendWhatsApp();};const handleSendWhatsApp=()=>{// WhatsApp message content\nconst message=\"\\u0417\\u0430\\u044F\\u0432\\u043A\\u0430:\\n    \\u0418\\u043C\\u044F: \".concat(formData.name,\"\\n    \\u041D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430: \").concat(formData.phoneNumber,\"\\n    \\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E \\u0441\\u0432\\u043E\\u0439\\u0441\\u0442\\u0432\\u0435:\\n    \\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435: \").concat(property.title,\"\\n    \\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435: \").concat(property.description,\"\\n    \\u0426\\u0435\\u043D\\u0430: \").concat(property.price);const recipientPhoneNumber='79841925069';// Replace with your WhatsApp number\nconst whatsappLink=\"https://api.whatsapp.com/send?phone=\".concat(recipientPhoneNumber,\"&text=\").concat(encodeURIComponent(message));window.open(whatsappLink,'_blank');// Open WhatsApp in a new tab\n};if(!property){return null;}const settings={dots:true,infinite:true,speed:500,slidesToShow:1,slidesToScroll:1,adaptiveHeight:true,centerMode:true,// Center the slides\nresponsive:[{breakpoint:768,settings:{arrows:false,centerMode:false// Disable center mode on mobile\n}}]};const imageStyle={width:'300px',height:'400px',objectFit:'cover',borderRadius:'2px',margin:'auto'// Center the image horizontally\n};// Adjust image height for mobile devices\nsettings.responsive[0].settings.slidesToShow=1;settings.responsive[0].settings.slidesToScroll=1;imageStyle.height='300px';// Update image height for mobile\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"construction-details-modal-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"construction-details-modal\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{children:property.title}),/*#__PURE__*/_jsx(Slider,{...settings,children:property.images.map((image,index)=>/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:image,alt:property.title,style:imageStyle})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"property-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0410\\u0434\\u0440\\u0435\\u0441: \",property.address]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0421\\u0440\\u043E\\u043A \\u0441\\u0434\\u0430\\u0447\\u0438: \",property.deliveryDate]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041A\\u043B\\u0430\\u0441\\u0441: \",property.class]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u042D\\u0442\\u0430\\u0436\\u043D\\u043E\\u0441\\u0442\\u044C: \",property.floors]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043A\\u043E\\u0440\\u043F\\u0443\\u0441\\u043E\\u0432: \",property.buildingCount]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0422\\u0438\\u043F \\u0434\\u043E\\u043C\\u0430: \",property.houseType]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0412\\u044B\\u0441\\u043E\\u0442\\u0430 \\u043F\\u043E\\u0442\\u043E\\u043B\\u043A\\u043E\\u0432: \",property.ceilingHeight]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0412\\u0430\\u0440\\u0438\\u0430\\u043D\\u0442\\u044B \\u043E\\u0442\\u0434\\u0435\\u043B\\u043A\\u0438: \",property.finishOptions]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041F\\u0430\\u0440\\u043A\\u043E\\u0432\\u043A\\u0430: \",property.parking]})]}),showForm?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",value:formData.name,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phoneNumber\",placeholder:\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\",value:formData.phoneNumber,onChange:handleInputChange,required:true,pattern:\"(\\\\+7|8)9\\\\d{9}\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowForm(true),children:\"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"})]})})});};export default ConstructionDetailsModal;","map":{"version":3,"names":["React","useState","Slider","Config","jsx","_jsx","jsxs","_jsxs","ConstructionDetailsModal","_ref","property","onClose","formData","setFormData","name","phoneNumber","showForm","setShowForm","console","log","CMS_URL","ADMIN_EMAIL","ADMIN_PASSWORD","ADMIN_LOGIN","handleInputChange","e","value","target","handleSubmit","preventDefault","handleSendWhatsApp","message","concat","title","description","price","recipientPhoneNumber","whatsappLink","encodeURIComponent","window","open","settings","dots","infinite","speed","slidesToShow","slidesToScroll","adaptiveHeight","centerMode","responsive","breakpoint","arrows","imageStyle","width","height","objectFit","borderRadius","margin","className","children","onClick","stopPropagation","images","map","image","index","src","alt","style","address","deliveryDate","class","floors","buildingCount","houseType","ceilingHeight","finishOptions","parking","onSubmit","type","placeholder","onChange","required","pattern"],"sources":["C:/Users/Best PC/Desktop/my-app/src/ConstructionDetailsModal.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport './ConstructionDetailsModal.css';\r\nimport Config from './config.js';\r\n\r\nconst ConstructionDetailsModal = ({ property, onClose }) => {\r\n  const [formData, setFormData] = useState({ name: '', phoneNumber: '' });\r\n  const [showForm, setShowForm] = useState(true); // State to manage form visibility\r\n  console.log('CMS URL:', Config.CMS_URL);\r\n  console.log('Admin email:', Config.ADMIN_EMAIL);\r\n  console.log('Admin password:', Config.ADMIN_PASSWORD);\r\n  console.log('Admin login:', Config.ADMIN_LOGIN);\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log('Form submitted:', formData);\r\n    setShowForm(false); // Hide the form after submission\r\n    // Call function to send WhatsApp message\r\n    handleSendWhatsApp();\r\n  };\r\n\r\n  const handleSendWhatsApp = () => {\r\n    // WhatsApp message content\r\n    const message = `Заявка:\r\n    Имя: ${formData.name}\r\n    Номер телефона: ${formData.phoneNumber}\r\n    Информация о свойстве:\r\n    Название: ${property.title}\r\n    Описание: ${property.description}\r\n    Цена: ${property.price}`;\r\n\r\n    const recipientPhoneNumber = '79841925069'; // Replace with your WhatsApp number\r\n    const whatsappLink = `https://api.whatsapp.com/send?phone=${recipientPhoneNumber}&text=${encodeURIComponent(message)}`;\r\n\r\n    window.open(whatsappLink, '_blank'); // Open WhatsApp in a new tab\r\n  };\r\n\r\n  if (!property) {\r\n    return null;\r\n  }\r\n\r\n  const settings = {\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    adaptiveHeight: true,\r\n    centerMode: true, // Center the slides\r\n    responsive: [\r\n      {\r\n        breakpoint: 768,\r\n        settings: {\r\n          arrows: false,\r\n          centerMode: false, // Disable center mode on mobile\r\n        }\r\n      }\r\n    ]\r\n  };\r\n\r\n  const imageStyle = {\r\n    width: '300px',\r\n    height: '400px',\r\n    objectFit: 'cover',\r\n    borderRadius: '2px',\r\n    margin: 'auto', // Center the image horizontally\r\n  };\r\n  \r\n  // Adjust image height for mobile devices\r\n  settings.responsive[0].settings.slidesToShow = 1;\r\n  settings.responsive[0].settings.slidesToScroll = 1;\r\n  imageStyle.height = '300px'; // Update image height for mobile\r\n\r\n  return (\r\n    <div className=\"construction-details-modal-container\">\r\n      <div className=\"construction-details-modal\" onClick={onClose}>\r\n        <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n          <span className=\"close\" onClick={onClose}>&times;</span>\r\n          <h2>{property.title}</h2>\r\n          <Slider {...settings}>\r\n            {property.images.map((image, index) => (\r\n              <div key={index}>\r\n                <img src={image} alt={property.title} style={imageStyle} />\r\n              </div>\r\n            ))}\r\n          </Slider>\r\n          <div className=\"property-info\">\r\n            <p>Адрес: {property.address}</p>\r\n            <p>Срок сдачи: {property.deliveryDate}</p>\r\n            <p>Класс: {property.class}</p>\r\n            <p>Этажность: {property.floors}</p>\r\n            <p>Количество корпусов: {property.buildingCount}</p>\r\n            <p>Тип дома: {property.houseType}</p>\r\n            <p>Высота потолков: {property.ceilingHeight}</p>\r\n            <p>Варианты отделки: {property.finishOptions}</p>\r\n            <p>Парковка: {property.parking}</p>\r\n          </div>\r\n          {/* Conditional rendering for form and send button */}\r\n          {showForm ? (\r\n            <form onSubmit={handleSubmit}>\r\n              <input type=\"text\" name=\"name\" placeholder=\"Имя\" value={formData.name} onChange={handleInputChange} required />\r\n              <input type=\"tel\" name=\"phoneNumber\" placeholder=\"Номер телефона\" value={formData.phoneNumber} onChange={handleInputChange} required pattern=\"(\\+7|8)9\\d{9}\" />\r\n              <button type=\"submit\">Подробне</button>\r\n            </form>\r\n          ) : (\r\n            <button onClick={() => setShowForm(true)}>Подробнее</button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConstructionDetailsModal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}